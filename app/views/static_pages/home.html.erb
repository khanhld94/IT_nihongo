<script type="text/javascript" src="http://movies.ndtv.com/static/js/ndtv.min.js?v=20160928"></script>
<div class="container ndmv-main-container">
   <div class="row">
      <div class="ndmv-left-wrapper col-md-12 col-sm-12">
         <div class="ndmv-celeb-filter-wrapper">
         </div>
         <style>
.mySlides {display:none}
.w3-left, .w3-right, .w3-badge {cursor:pointer}
.w3-badge {height:13px;width:13px;padding:0}
</style>


<div class="w3-content w3-display-container" style="width:900px, width:100%, height: 100%;">
  <img class="mySlides" src="assets/banner3.jpeg" style="width:100%">
  <img class="mySlides" src="assets/banner2.jpg" style="width:100%">
  <img class="mySlides" src="assets/banner3.png" style="width:100%">
  <img class="mySlides" src="assets/banner4.jpg" style="width:100%">

  <div class="w3-center w3-section w3-large w3-text-white w3-display-bottommiddle" style="width:100%">
    <div class="w3-left w3-padding-left w3-hover-text-khaki" onclick="plusDivs(-1)">&#10094;</div>
    <div class="w3-right w3-padding-right w3-hover-text-khaki" onclick="plusDivs(1)">&#10095;</div>
    <span class="w3-badge demo w3-border w3-transparent w3-hover-white" onclick="currentDiv(1)"></span>
    <span class="w3-badge demo w3-border w3-transparent w3-hover-white" onclick="currentDiv(2)"></span>
    <span class="w3-badge demo w3-border w3-transparent w3-hover-white" onclick="currentDiv(3)"></span>
    <span class="w3-badge demo w3-border w3-transparent w3-hover-white" onclick="currentDiv(4)"></span>
  </div>
</div>

<script>
var slideIndex = 1;
showDivs(slideIndex);

function plusDivs(n) {
  showDivs(slideIndex += n);
}

function currentDiv(n) {
  showDivs(slideIndex = n);
}

function showDivs(n) {
  var i;
  var x = document.getElementsByClassName("mySlides");
  var dots = document.getElementsByClassName("demo");
  if (n > x.length) {slideIndex = 1}    
  if (n < 1) {slideIndex = x.length}
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";  
  }
  for (i = 0; i < dots.length; i++) {
     dots[i].className = dots[i].className.replace(" w3-white", "");
  }
  x[slideIndex-1].style.display = "block";  
  dots[slideIndex-1].className += " w3-white";
}
</script>
<hr>
         <h3><label>Newest Movies</label></h3>
         <hr>
         <%= render "shared/movie_form", movies: @movies %>
      </div>
      <div class="ndmv-left-wrapper col-md-12 col-sm-12">
         <% if user_signed_in? %>
         <% @movies = get_following_user_movies current_user %>
         <div class="ndmv-celeb-filter-wrapper">
         </div>
         <h3>Friend Liked Movies</h3>
         <hr>
         <%= render "shared/movie_form", movies: @movies %>
         <% end %>
      </div>
      <div class="ndmv-right-wrapper col-md-4 col-sm-4" id="the-sticky-div" >
         <div class="ndmv-celeb-filter-wrapper">
         </div>
         <div class="ndmv-ad-wrapper">
            <h3><label>Top Rate Movies</label></h3>
            <table class="table">
               <thead>
                  <tr>
                     <th>Name</th>
                     <th>Rate</th>
                  </tr>
               </thead>
               <tbody>
                  <% @top_movies.each do |rdmovie| %>
                  <tr class="success">
                     <td><%= link_to rdmovie.name, movie_path(rdmovie) %></td>
                     <td><%= rdmovie.rates.average :vote %></td>
                  </tr>
                  <% end %>
               </tbody>
            </table>
         </div>
      </div>
   </div>
</div>
<script>
var $window = $(window),
       $stickyEl = $('#the-sticky-div'),
       elTop = $stickyEl.offset().top;

   $window.scroll(function() {
        $stickyEl.toggleClass('sticky', $window.scrollTop() > elTop);
    });
</script>
</body>
</html>

